---
title: Search
description: Understanding search in Airweave
edit-this-page-url: https://github.com/airweave-ai/airweave/blob/main/fern/docs/pages/search.mdx
slug: search
---

Airweave lets you search across all your connected data sources through one unified interface. When you query a collection, Airweave runs a multi-step search pipeline that combines AI understanding with keyword precision. You can start with the defaults or configure each step for full control.

<Note>
Want to try out our search right now? Head to our [interactive API documentation](https://docs.airweave.ai/api-reference/collections/search-advanced-collections-readable-id-search-post) where you can test search queries directly in your browser!
</Note>

## Quick Reference

Here are the default settings Airweave uses. You can override any of these in your queries.

| Feature | Default | What it does |
|---------|---------|--------------|
| Query Expansion | `auto` | Automatically creates query variations when AI is available |
| Search Method | `hybrid` | Combines AI semantic search with keyword matching |
| Query Interpretation | Off | You control filters manually |
| AI Reranking | On | Improves result quality (adds ~10s latency) |
| Recency Boost | `0.3` | Slightly prefers newer content |
| Score Filter | None | Returns all matches |
| Response Format | `raw` | Returns actual documents, not AI summaries |

## Which endpoint to use
Choose the **GET** endpoint for simple searches, and the **POST** endpoint when you need advanced config.


<CardGroup cols={2}>
  <Card title="Simple Search" icon="magnifying-glass" href="/api-reference/collections/search-collections-readable-id-search-get">
    **GET** `/collections/{readable_id}/search`

    Best for quick searches with default settings. Just pass your query and go.
  </Card>

  <Card title="Advanced Search" icon="sliders" href="/api-reference/collections/search-advanced-collections-readable-id-search-post">
    **POST** `/collections/{readable_id}/search`

    Use this when you need to customize any of the options above.
  </Card>
</CardGroup>

## How Airweave search works

Each search runs through a multi step pipeline. Understanding the stages helps explain why different parameters exist and when to use them:

1. **Query expansion**: Generate variations of the user query to capture synonyms and related terms.
2. **Retrieval**: Use keyword, neural, or hybrid methods to fetch candidate documents.
3. **Filtering**: Apply structured metadata filters before or during retrieval.
4. **Recency bias**: Optionally weight results toward fresher content.
5. **Reranking**: Use AI to reorder the top results for higher precision.
6. **Answer generation**: Return raw documents or synthesize a natural language response.

Defaults are designed to work out of the box, and you can override any stage as needed.

## Parameters
### Query Expansion

Expands your query to catch related terms and synonyms that may not appear verbatim in your documents. This improves recall when wording differs but meaning is the same.

**Options**: `expansion_strategy`
- `auto` (default): Uses AI to expand queries when available
- `llm`: Always uses AI to create up to 4 query variations
- `no_expansion`: Search only for your exact query

<CodeBlocks>
```bash title="cURL"
curl -X POST 'https://api.airweave.ai/collections/your-collection-id/search' \
  -H 'x-api-key: YOUR_API_KEY' \
  -H 'Content-Type: application/json' \
  -d '{
    "query": "customer churn analysis",
    "expansion_strategy": "llm"
  }'
```

```python title="Python"
from airweave import AirweaveSDK

client = AirweaveSDK(api_key="YOUR_API_KEY")

results = await client.collections.search_advanced(
    "your-collection-id",
    {
        "query": "customer churn analysis",
        "expansion_strategy": "llm"
    }
)
```

```javascript title="Node.js"
import { AirweaveSDKClient } from "@airweave/sdk";

const client = new AirweaveSDKClient({ apiKey: "YOUR_API_KEY" });

const response = await client.collections.searchAdvanced(
  "your-collection-id",
  {
    query: "payment failures",
    expansion_strategy: "llm",
  }
);
```
</CodeBlocks>



### Search Method

The search method determines how Airweave searches your data. Different methods balance semantic understanding and keyword precision. You can use AI to understand meaning, traditional keyword matching, or both.

**Options**: `search_method`
- `hybrid` (default): Best of both worlds - finds results by meaning AND exact keywords
- `neural`: AI-powered search that understands what you mean, not just what you type
- `keyword`: Traditional search that looks for exact word matches

<CodeBlocks>
```bash title="cURL"
curl -X POST 'https://api.airweave.ai/collections/your-collection-id/search' \
  -H 'x-api-key: YOUR_API_KEY' \
  -H 'Content-Type: application/json' \
  -d '{
    "query": "authentication flow security vulnerabilities",
    "search_method": "hybrid"
  }'
```

```python title="Python"
results = await client.collections.search_advanced(
    "your-collection-id",
    {
        "query": "authentication flow security vulnerabilities",
        "search_method": "hybrid"
    }
)
```

```javascript title="Node.js"
const response = await client.collections.searchAdvanced(
  "your-collection-id",
  {
    query: "authentication flow security vulnerabilities",
    search_method: "hybrid",
  }
);
```
</CodeBlocks>



### Filtering Results

Applies structured filters before search, ensuring only relevant subsets are scanned. Useful for large datasets or when results must match specific attributes like source, date, or status.

**Parameter**: `filter`

**Example 1: Filter by source**

<CodeBlocks>
```bash title="cURL"
curl -X POST 'https://api.airweave.ai/collections/your-collection-id/search' \
  -H 'x-api-key: YOUR_API_KEY' \
  -H 'Content-Type: application/json' \
  -d '{
    "query": "deployment issues",
    "filter": {
      "must": [{
        "key": "source_name",
        "match": {"value": "GitHub"}
      }]
    }
  }'
```

```python title="Python"
results = await client.collections.search_advanced(
    "your-collection-id",
    {
        "query": "deployment issues",
        "filter": {
            "must": [{
                "key": "source_name",
                "match": {"value": "GitHub"}  # Case-sensitive!
            }]
        }
    }
)
```

```javascript title="Node.js"
const response = await client.collections.searchAdvanced(
  "your-collection-id",
  {
    query: "deployment issues",
    filter: {
      must: [{
        key: "source_name",
        match: { value: "GitHub" }  // Case-sensitive!
      }]
    }
  }
);
```
</CodeBlocks>

**Example 2: Multiple filters**

<CodeBlocks>
```bash title="cURL"
curl -X POST 'https://api.airweave.ai/collections/your-collection-id/search' \
  -H 'x-api-key: YOUR_API_KEY' \
  -H 'Content-Type: application/json' \
  -d '{
    "query": "customer feedback",
    "filter": {
      "must": [
        {
          "key": "source_name",
          "match": {"any": ["Zendesk", "Intercom", "Slack"]}
        },
        {
          "key": "created_at",
          "range": {
            "gte": "2024-01-01T00:00:00Z"
          }
        }
      ]
    }
  }'
```

```python title="Python"
from datetime import datetime, timezone, timedelta

results = await client.collections.search_advanced(
    "your-collection-id",
    {
        "query": "customer feedback",
        "filter": {
            "must": [
                {
                    "key": "source_name",
                    "match": {"any": ["Zendesk", "Intercom", "Slack"]}
                },
                {
                    "key": "created_at",
                    "range": {
                        "gte": (datetime.now(timezone.utc) - timedelta(days=7)).isoformat()
                    }
                }
            ]
        }
    }
)
```

```javascript title="Node.js"
const oneWeekAgo = new Date();
oneWeekAgo.setDate(oneWeekAgo.getDate() - 7);

const response = await client.collections.searchAdvanced(
  "your-collection-id",
  {
    query: "customer feedback",
    filter: {
      must: [
        {
          key: "source_name",
          match: { any: ["Zendesk", "Intercom", "Slack"] }
        },
        {
          key: "created_at",
          range: {
            gte: oneWeekAgo.toISOString()
          }
        }
      ]
    }
  }
);
```
</CodeBlocks>

**Example 3: Exclude results**

<CodeBlocks>
```bash title="cURL"
curl -X POST 'https://api.airweave.ai/collections/your-collection-id/search' \
  -H 'x-api-key: YOUR_API_KEY' \
  -H 'Content-Type: application/json' \
  -d '{
    "query": "bug reports",
    "filter": {
      "must_not": [{
        "key": "status",
        "match": {"any": ["resolved", "closed", "done"]}
      }]
    }
  }'
```

```python title="Python"
results = await client.collections.search_advanced(
    "your-collection-id",
    {
        "query": "bug reports",
        "filter": {
            "must_not": [{
                "key": "status",
                "match": {"any": ["resolved", "closed", "done"]}
            }]
        }
    }
)
```

```javascript title="Node.js"
const response = await client.collections.searchAdvanced(
  "your-collection-id",
  {
    query: "bug reports",
    filter: {
      must_not: [{
        key: "status",
        match: { any: ["resolved", "closed", "done"] }
      }]
    }
  }
);
```
</CodeBlocks>

### Query Interpretation

<Warning>
This feature is currently in beta. It can occasionally filter too narrowly, so verify result counts.
</Warning>

Query interpretation allows Airweave to automatically extract structured filters from a natural language query. Instead of manually defining metadata filters, you can simply describe what you are looking for, and Airweave will translate that description into filter conditions.

This feature is useful when you want to let end users search in plain English, for example _"open GitHub issues from last week"_ or _"critical bugs reported this month"_. Airweave analyzes the query, identifies entities like dates, sources, or statuses, and applies them as filters.

**Options**: `enable_query_interpretation`
- `false` (default): You control all filters manually
- `true`: AI extracts filters from your natural language query

<CodeBlocks>
```bash title="cURL"
curl -X POST 'https://api.airweave.ai/collections/your-collection-id/search' \
  -H 'x-api-key: YOUR_API_KEY' \
  -H 'Content-Type: application/json' \
  -d '{
    "query": "open asana tickets from last week",
    "enable_query_interpretation": true
  }'
```

```python title="Python"
results = await client.collections.search_collection_advanced(
    readable_id="your-collection-id",
    search_request={
        "query": "open asana tickets from last week",
        "enable_query_interpretation": True
    }
)
# AI understands: Asana source, open status, last 7 days

results = await client.collections.search_collection_advanced(
    readable_id="your-collection-id",
    search_request={
        "query": "critical bugs from GitHub this month",
        "enable_query_interpretation": True
    }
)
```

```javascript title="Node.js"
const response = await client.collections.searchCollectionAdvanced({
  readableId: "your-collection-id",
  searchRequest: {
    query: "open asana tickets from last week",
    enableQueryInterpretation: true
  },
});

const response2 = await client.collections.searchCollectionAdvanced({
  readableId: "your-collection-id",
  searchRequest: {
    query: "critical bugs from GitHub this month",
    enableQueryInterpretation: true
  },
});
```
</CodeBlocks>

### Temporal Relevance

<Tip>Learn more about this topic in our blogpost: [Deep Dive on Temporal Relevance ](https://airweave.ai/blog/temporal-relevance-explained).</Tip>

Temporal relevance adjusts the results ranking to prefer newer documents. This is valuable for time-sensitive data like messages, customer feedback, tickets, or news.

The scoring formula adjusts results based on age:

**S<sub>final</sub> = S<sub>similarity</sub> × (1 − β + β × d(t))**

where,
- **S<sub>final</sub>** = final relevance score
- **S<sub>similarity</sub>** = semantic similarity score
- **β** = recency bias parameter (0 to 1)
- **d(t)** = time decay factor (0 = oldest, 1 = newest).


**Options**: `recency_bias` (0.0 to 1.0)
- `0.3` (default): Slightly prefer newer content
- `0.0`: Don't care about dates, just find the best matches
- `1.0`: Heavily prioritize the newest content

<CodeBlocks>
```bash title="cURL"
curl -X POST 'https://api.airweave.ai/collections/your-collection-id/search' \
  -H 'x-api-key: YOUR_API_KEY' \
  -H 'Content-Type: application/json' \
  -d '{
    "query": "project updates",
    "recency_bias": 0.7
  }'
```

```python title="Python"
results = await client.collections.search_collection_advanced(
    readable_id="your-collection-id",
    search_request={
        "query": "project updates",
        "recency_bias": 0.7
    }
)
```

```javascript title="Node.js"
const response = await client.collections.searchCollectionAdvanced({
  readableId: "your-collection-id",
  searchRequest: {
    query: "project updates",
    recencyBias: 0.7,
  },
});
```
</CodeBlocks>

Use this when freshness matters. For example, prioritizing the latest bug reports or recent customer complaints over historical ones.

### Pagination

Control how many results you get and navigate through large result sets.

**Parameters**:
- `limit`: How many results to return (1-1000, default: 20)
- `offset`: How many results to skip (for pagination, default: 0)

<CodeBlocks>
```bash title="cURL"
# Simple search with pagination
curl -X GET 'https://api.airweave.ai/collections/your-collection-id/search?query=data%20retention%20policies&limit=50&offset=50' \
  -H 'x-api-key: YOUR_API_KEY'
```

```python title="Python"
response = await client.collections.search_collection(
    readable_id="your-collection-id",
    query="data retention policies",
    limit=50,
    offset=50,  # Skip first 50
)
```

```javascript title="Node.js"
const response = await client.collections.searchCollection({
  readableId: "your-collection-id",
  query: "data retention policies",
  limit: 50,
  offset: 50,
});
```
</CodeBlocks>

### Filter by Relevance Score

Set a minimum relevance score to filter out weak matches. Useful when you only want high-quality results.

**Options**: `score_threshold` (0.0 to 1.0)
- `None` (default): Return all matches
- `0.7-0.8`: Return only high-confidence matches

<CodeBlocks>
```bash title="cURL"
curl -X POST 'https://api.airweave.ai/collections/your-collection-id/search' \
  -H 'x-api-key: YOUR_API_KEY' \
  -H 'Content-Type: application/json' \
  -d '{
    "query": "security vulnerability CVE-2024",
    "score_threshold": 0.8
  }'
```

```python title="Python"
results = await client.collections.search_collection_advanced(
    readable_id="your-collection-id",
    search_request={
        "query": "security vulnerability CVE-2024",
        "score_threshold": 0.8
    }
)
```

```javascript title="Node.js"
const response = await client.collections.searchCollectionAdvanced({
  readableId: "your-collection-id",
  searchRequest: {
    query: "security vulnerability CVE-2024",
    scoreThreshold: 0.8,
  },
});
```
</CodeBlocks>

Use this when you need very reliable matches and can tolerate lower recall. For example, in compliance or legal document retrieval.

### AI Reranking

AI reranking takes the top set of results from the initial search and reorders them using a large language model. This improves accuracy in cases where keyword or semantic similarity alone might be misleading.

**Options**: `enable_reranking`
- `true` (default): AI reviews and reorders results for best relevance
- `false`: Skip reranking for faster results

<Warning>
Reranking adds about 10 seconds to your search. Turn it off if you need fast results.
</Warning>

<CodeBlocks>
```bash title="cURL"
curl -X POST 'https://api.airweave.ai/collections/your-collection-id/search' \
  -H 'x-api-key: YOUR_API_KEY' \
  -H 'Content-Type: application/json' \
  -d '{
    "query": "user authentication methods",
    "enable_reranking": false
  }'
```

```python title="Python"
results = await client.collections.search_collection_advanced(
    readable_id="your-collection-id",
    search_request={
        "query": "user authentication methods",
        "enable_reranking": False
    }
)
```

```javascript title="Node.js"
const response = await client.collections.searchCollectionAdvanced({
  readableId: "your-collection-id",
  searchRequest: {
    query: "user authentication methods",
    enableReranking: false,
  },
});
```
</CodeBlocks>

### Generate AI Answers

Airweave can return either raw results or a synthesized answer. When set to completion, a large language model generates a natural language response based on the top results, including sources when available.

**Options**: `response_type`
- `raw` (default): Get the actual results, recommended when you want full control.
- `completion`: Get a synthesized answer generated from the top search results.

<CodeBlocks>
```bash title="cURL"
curl -X POST 'https://api.airweave.ai/collections/your-collection-id/search' \
  -H 'x-api-key: YOUR_API_KEY' \
  -H 'Content-Type: application/json' \
  -d '{
    "query": "What are our customer refund policies?",
    "response_type": "completion"
  }'
```

```python title="Python"
results = await client.collections.search_collection_advanced(
    readable_id="your-collection-id",
    search_request={
        "query": "What are our customer refund policies?",
        "response_type": "completion"
    }
)
# Access: results.completion
```

```javascript title="Node.js"
const response = await client.collections.searchCollectionAdvanced({
  readableId: "your-collection-id",
  searchRequest: {
    query: "What are our customer refund policies?",
    responseType: "completion",
  },
});
// Access: response.completion
```
</CodeBlocks>

## Complete example

Here's everything together in one search:

<CodeBlocks>
```bash title="cURL"
curl -X POST 'https://api.airweave.ai/collections/your-collection-id/search' \
  -H 'x-api-key: YOUR_API_KEY' \
  -H 'Content-Type: application/json' \
  -d '{
    "query": "customer feedback about pricing",
    "expansion_strategy": "llm",
    "search_method": "hybrid",
    "filter": {
      "must": [{
        "key": "source_name",
        "match": {"any": ["Zendesk", "Slack"]}
      }]
    },
    "recency_bias": 0.5,
    "score_threshold": 0.7,
    "enable_reranking": true,
    "response_type": "raw",
    "limit": 50,
    "offset": 0
  }'
```

```python title="Python"
from airweave import AirweaveSDK
from datetime import datetime, timezone, timedelta

client = AirweaveSDK(api_key="YOUR_API_KEY")

results = await client.collections.search_advanced(
    "your-collection-id",
    {
        "query": "customer feedback about pricing",
        "expansion_strategy": "llm",
        "search_method": "hybrid",
        "filter": {
            "must": [{
                "key": "source_name",
                "match": {"any": ["Zendesk", "Slack"]}
            }]
        },
        "recency_bias": 0.5,
        "score_threshold": 0.7,
        "enable_reranking": True,
        "response_type": "raw",
        "limit": 50,
        "offset": 0
    }
)
```

```javascript title="Node.js"
import { AirweaveSDKClient } from "@airweave/sdk";

const client = new AirweaveSDKClient({ apiKey: "YOUR_API_KEY" });

const response = await client.collections.searchAdvanced(
  "your-collection-id",
  {
    query: "customer feedback about pricing",
    expansion_strategy: "llm",
    search_method: "hybrid",
    filter: {
      must: [{
        key: "source_name",
        match: { any: ["Zendesk", "Slack"] }
      }]
    },
    recency_bias: 0.5,
    score_threshold: 0.7,
    enable_reranking: true,
    response_type: "raw",
    limit: 50,
    offset: 0
  }
);
```
</CodeBlocks>

<Card title="Ready to search?" icon="rocket">
  Try these examples live in our [interactive API documentation](https://docs.airweave.ai/api-reference/collections/search-advanced-collections-readable-id-search-post). You can execute real searches and see responses instantly!
</Card>
